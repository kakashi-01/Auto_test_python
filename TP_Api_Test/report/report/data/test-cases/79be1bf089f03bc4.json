{
  "uid" : "79be1bf089f03bc4",
  "name" : "测试输入：{\"grant_type\":\"password\",\"username\":\"17688701458\",\"password\":\"Sutpc@2020\",\"imageCode\":\"9527\"}",
  "fullName" : "test_login.TestLogin#test_login",
  "historyId" : "6e45e10756a7bbc3dc1b6756b77c39d8",
  "time" : {
    "start" : 1611055623030,
    "stop" : 1611055623331,
    "duration" : 301
  },
  "status" : "broken",
  "statusMessage" : "KeyError: 'error'",
  "statusTrace" : "self = <TP_Api_Test.test_case.test_login.TestLogin object at 0x000002805051BD00>\ninData = '{\"grant_type\":\"password\",\"username\":\"17688701458\",\"password\":\"Sutpc@2020\",\"imageCode\":\"9527\"}'\nrespData = '{\"token_type\":\"bearer\",\"expires_in\": 35999,\"scope\": \"all\",\"uid\": \"3b72468c8a60488d8258a9b2033b4baa\"}'\n\n    @pytest.mark.异常账户登陆\n    @allure.title(\"测试输入：{inData}\")\n    @pytest.mark.parametrize('inData,respData', get_excelData('1登录模块', 2, 7))\n    def test_login(self, inData, respData):\n        # 1- 调用--封装模块\n>       res = Login_TP().api_login_u(inData)\n\ntest_login.py:59: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <TP_Api_Test.Lib.Login_Module.login.Login_TP object at 0x0000028050598F70>\ninData = '{\"grant_type\":\"password\",\"username\":\"17688701458\",\"password\":\"Sutpc@2020\",\"imageCode\":\"9527\"}'\n\n    def api_login_u(self, inData):\n        login_url = f'{HOST}api/v1/sys/oauth/token'\n        # 1.构造请求消息体\n        header = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Basic emhhbmppYW5nLXNzby10ZXN0OmFhYTQ0ZjI3LTc0MmYtNDMzMS05ZTA0LTllMDFmMGE1MmVjNg=='}\n        # 2.构造请求消息体\n        payload = json.loads(inData)  # inData是字符串，转字典传入\n        # 3.发送Post请求\n        reps = requests.post(login_url, headers=header, data=payload)\n>       return reps.json()['error']\nE       KeyError: 'error'\n\n..\\Lib\\Login_Module\\login.py:48: KeyError",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ ],
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "story",
    "value" : "登录接口"
  }, {
    "name" : "epic",
    "value" : "TP系统"
  }, {
    "name" : "feature",
    "value" : "登录模块"
  }, {
    "name" : "severity",
    "value" : "critical"
  }, {
    "name" : "tag",
    "value" : "Login(order=1)"
  }, {
    "name" : "tag",
    "value" : "异常账户登陆"
  }, {
    "name" : "suite",
    "value" : "test_login"
  }, {
    "name" : "subSuite",
    "value" : "TestLogin"
  }, {
    "name" : "host",
    "value" : "DESKTOP-5R42TFK"
  }, {
    "name" : "thread",
    "value" : "7520-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "test_login"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "inData",
    "value" : "'{\"grant_type\":\"password\",\"username\":\"17688701458\",\"password\":\"Sutpc@2020\",\"imageCode\":\"9527\"}'"
  }, {
    "name" : "respData",
    "value" : "'{\"token_type\":\"bearer\",\"expires_in\": 35999,\"scope\": \"all\",\"uid\": \"3b72468c8a60488d8258a9b2033b4baa\"}'"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "critical",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Test defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ "Login(order=1)", "异常账户登陆" ]
  },
  "source" : "79be1bf089f03bc4.json",
  "parameterValues" : [ "'{\"grant_type\":\"password\",\"username\":\"17688701458\",\"password\":\"Sutpc@2020\",\"imageCode\":\"9527\"}'", "'{\"token_type\":\"bearer\",\"expires_in\": 35999,\"scope\": \"all\",\"uid\": \"3b72468c8a60488d8258a9b2033b4baa\"}'" ]
}